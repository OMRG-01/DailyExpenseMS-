<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css">
</head>
<body>
<div class="container mt-5">
    <h2>Dashboard</h2>
	<h2>Welcome, <span th:text="${user.name}">User</span></h2>
	<h2>Total Wallet Amount: â‚¹ <span th:text="${totalAmount}">0.0</span></h2>
	<h2>Total Amount Remaining to Receive:</b> <span th:text="${summary.totalSendBalance}">0.0</span></h2>
	<h2>Total Loan Amount: <span th:text="${summary.totalLoan}">0.0</span></h2>
	<h2>Remaining Loan to Repay:<span th:text="${summary.loanBalance}">0.0</span></h2>
	    <p>Your ID is: <span th:text="${user.id}">1</span></p>
		
		<a th:href="@{'/user/edit/' + ${userId}}" class="btn btn-warning">Edit Profile</a>
		<a th:href="@{'/category/' + ${userId}}" class="btn btn-warning">Category Manager</a>
		<a th:href="@{'/friend/' + ${userId}}" class="btn btn-warning">Friend Manager</a>
		<button  class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#addMoneyModal">Add Money</button>
		<a th:href="@{'/wallet/' + ${userId}}" class="btn btn-warning">Wallet Transaction</a>
		<a th:href="@{'/transaction/' + ${userId}}" class="btn btn-warning">Transaction With Friend</a>
		
		
		
		
		
		
		<!-- Modal -->
		    <div class="modal fade" id="addMoneyModal" tabindex="-1" aria-labelledby="addMoneyModalLabel" aria-hidden="true">
		        <div class="modal-dialog">
		            <form th:action="@{/wallet/addMoneyDash}" method="post" class="modal-content">
		                <div class="modal-header">
		                    <h5 class="modal-title">Add Money</h5>
		                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
		                </div>
		                <div class="modal-body">
		                    <input type="hidden" name="userId" th:value="${userId}" />
		                    <div class="mb-3">
		                        <label class="form-label">Amount</label>
		                        <input type="number" name="amount" class="form-control" step="0.01" required>
		                    </div>
		                    <div class="mb-3">
		                        <label class="form-label">Note</label>
		                        <textarea name="note" class="form-control" required></textarea>
		                    </div>
		                </div>
		                <div class="modal-footer">
		                    <button class="btn btn-success" type="submit">Add Money</button>
		                </div>
		            </form>
		        </div>
		    </div>
</div>
<!-- Include Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    function toggleTransactions() {
        const table = document.getElementById("transactionTable");
        table.style.display = (table.style.display === "none") ? "block" : "none";
    }
</script>
</body>
</html>
